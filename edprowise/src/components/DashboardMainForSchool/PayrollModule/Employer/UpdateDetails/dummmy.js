//  <div className="row">
                                    
//                                     <div className="col-md-6">
//                                         <div className="mb-6">
//                                             <label htmlFor="name" className="form-label">
//                                                 Name of Employee <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="name"
//                                                 name="name"
//                                                 className="form-control"
//                                                 // value={formData.name}
//                                                 // onChange={handleChange}
//                                                 value={"Umesh Jadhav"}
//                                                 required
//                                                 placeholder='Enter Employee Name'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="joiningDate" className="form-label">
//                                                 Joining Date <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="date"
//                                                 id="joiningDate"
//                                                 name="joiningDate"
//                                                 className="form-control"
//                                                 // value={formData.joiningDate}
//                                                 required
//                                             />
//                                         </div>
//                                     </div>
//                                 </div>

//                                 <div className="row">
//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="joiningDate" className="form-label">
//                                                 Joining Date <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="date"
//                                                 id="joiningDate"
//                                                 name="joiningDate"
//                                                 className="form-control"
//                                                 // value={formData.joiningDate}
//                                                 required
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="categoryOfEmployees"
//                                                 className="form-label"
//                                             >
//                                                 Category of Employees <span className="text-danger">*</span>
//                                             </label>
//                                             <select
//                                                 id="categoryOfEmployees"
//                                                 name="categoryOfEmployees"
//                                                 className="form-control"
//                                                 // value={formData.categoryOfEmployee}
//                                                 // onChange={handleChange}
//                                                 value={"Teaching Staff"}
//                                                 required

//                                             >
//                                                 <option value="">Select Employee Category</option>
//                                                 <option value="Teaching Staff">Teaching Staff</option>
//                                                 <option value="Non Teaching Staff">
//                                                     Non Teaching Staff
//                                                 </option>
//                                             </select>
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="grade" className="form-label">
//                                                 Grade <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="grade"
//                                                 name="grade"
//                                                 className="form-control"
//                                                 // value={formData.grade}
//                                                 // onChange={handleChange}
//                                                 value={"A"}
//                                                 required
//                                                 placeholder='Enter Grade'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="jobDesignation" className="form-label">
//                                                 Job Designation <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="jobDesignation"
//                                                 name="jobDesignation"
//                                                 className="form-control"
//                                                 // value={formData.jobDesignation}
//                                                 // onChange={handleChange}
//                                                 value={"Teacher"}
//                                                 required
//                                                 placeholder='Enter Job Designation'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="dateOfBirth" className="form-label">
//                                                 Date of Birth <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="date"
//                                                 id="dateOfBirth"
//                                                 name="dateOfBirth"
//                                                 className="form-control"
//                                                 // value={formData.dateOfBirth}
//                                                 required
//                                                 placeholder='Date Of Birth'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-6">
//                                             <label htmlFor="fatherName" className="form-label">
//                                                 Father Name <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="fatherName"
//                                                 name="fatherName"
//                                                 className="form-control"
//                                                 // value={formData.fatherName}
//                                                 // onChange={handleChange}
//                                                 value={"Ram"}
//                                                 required
//                                                 placeholder='Enter Father Name'
//                                             />
//                                         </div>
//                                     </div>
//                                     <div className="col-md-4">
//                                         <div className="mb-6">
//                                             <label htmlFor="spouseName" className="form-label">
//                                                 Spouse Name <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="spouseName"
//                                                 name="spouseName"
//                                                 className="form-control"
//                                                 // value={formData.spouseName}
//                                                 // onChange={handleChange}
//                                                 value={"Lili"}
//                                                 placeholder='Enter Spouse Name'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="row">
//                                         <div className="mb-3 mt-2">
//                                             <label htmlFor="currentAddress" className="form-label">
//                                                 Current Address <span className="text-danger">*</span>
//                                             </label>
//                                             <textarea
//                                                 className="form-control"
//                                                 id="currentAddress"
//                                                 name="currentAddress"
//                                                 rows={3}
//                                                 //   value={formData.currentAddress}
//                                                 //   onChange={handleChange}
//                                                 value={"At.post Nashik"}
//                                                 required
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="contactNumber" className="form-label">
//                                                 Contact Number <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="tel"
//                                                 id="contactNumber"
//                                                 name="contactNumber"
//                                                 className="form-control"
//                                                 // value={formData.contactNumber}
//                                                 // onChange={handleChange}
//                                                 value={"1234567890"}
//                                                 required
//                                                 placeholder='Example : 1234567890'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="emergencyContactNumber" className="form-label">
//                                                 Emergency Contact Number <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="tel"
//                                                 id="emergencyContactNumber"
//                                                 name="emergencyContactNumber"
//                                                 className="form-control"
//                                                 // value={formData.emergencyContactNumber}
//                                                 // onChange={handleChange}
//                                                 value={"1234567890"}
//                                                 placeholder='Example : 1234567890'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="emailId"
//                                                 className="form-label"
//                                             >
//                                                 Email ID <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="email"
//                                                 id="emailId"
//                                                 name="emailId"
//                                                 className="form-control"
//                                                 // value={formData.emailId}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"xyz@gmail.com"}
//                                                 placeholder='Example : xyz@gmail.com'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="nationality" className="form-label">
//                                                 Nationality <span className="text-danger">*</span>
//                                             </label>
//                                             <select
//                                                 id="nationality"
//                                                 name="nationality"
//                                                 className="form-control"
//                                                 // value={formData.nationality}
//                                                 // onChange={handleChange}
//                                                 value={"Indian"}
//                                                 required
//                                             >
//                                                 <option value="">Select Nationality</option>
//                                                 <option value="Indian">Indian</option>
//                                                 <option value="Nepalese">
//                                                     Nepalese
//                                                 </option>
//                                                 <option value="Bhutanese">
//                                                     Bhutanese
//                                                 </option>
//                                                 <option value="Other">
//                                                     Other
//                                                 </option>
//                                             </select>
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-6">
//                                             <label htmlFor="religion" className="form-label">
//                                                 Religion <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="religion"
//                                                 name="religion"
//                                                 className="form-control"
//                                                 // value={formData.religion}
//                                                 // onChange={handleChange}
//                                                 value={"Hindu"}
//                                                 placeholder='Enter Religion'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="gender" className="form-label">
//                                                 Gender <span className="text-danger">*</span>
//                                             </label>
//                                             <select
//                                                 id="gender"
//                                                 name="gender"
//                                                 className="form-control"
//                                                 // value={formData.gender}
//                                                 // onChange={handleChange}
//                                                 value={"Male"}
//                                                 required
//                                             >
//                                                 <option value="">Select Gender</option>
//                                                 <option value="Male">Male</option>
//                                                 <option value="Female">
//                                                     Female
//                                                 </option>
//                                                 <option value="Transgender">
//                                                     Transgender
//                                                 </option>
//                                             </select>
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="maritalStatus" className="form-label">
//                                                 Marital Status <span className="text-danger">*</span>
//                                             </label>
//                                             <select
//                                                 id="maritalStatus"
//                                                 name="maritalStatus"
//                                                 className="form-control"
//                                                 // value={formData.maritalStatus}
//                                                 // onChange={handleChange}
//                                                 value={"Married"}
//                                                 required
//                                             >
//                                                 <option value="">Select Status</option>
//                                                 <option value="Married">Married</option>
//                                                 <option value="Un-Married">
//                                                     Un-Married
//                                                 </option>
//                                                 <option value="Widower">
//                                                     Widower
//                                                 </option>
//                                                 <option value="Divorcee">
//                                                     Divorcee
//                                                 </option>
//                                             </select>
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="higherQualification" className="form-label">
//                                                 Higher Qualification <span className="text-danger">*</span>
//                                             </label>
//                                             <select
//                                                 id="higherQualification"
//                                                 name="higherQualification"
//                                                 className="form-control"
//                                                 // value={formData.higherQualification}
//                                                 // onChange={handleChange}
//                                                 value={"Below Class 12"}
//                                                 required
//                                             >
//                                                 <option value="">Select Higher Qualification</option>
//                                                 <option value="Below Class 12">Below Class 12</option>
//                                                 <option value="Upto Class 12">
//                                                     Upto Class 12
//                                                 </option>
//                                                 <option value="Graduate">
//                                                     Graduate
//                                                 </option>
//                                                 <option value="Post Graduate">
//                                                     Post Graduate
//                                                 </option>
//                                             </select>
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="physicalHandicap" className="form-label">
//                                                 Physical Handicap <span className="text-danger">*</span>
//                                             </label>
//                                             <select
//                                                 id="physicalHandicap"
//                                                 name="physicalHandicap"
//                                                 className="form-control"
//                                                 // value={formData.physicalHandicap}
//                                                 // onChange={handleChange}
//                                                 value={"No"}
//                                                 required
//                                             >
//                                                 <option value="">Select Physical Handicap Status</option>
//                                                 <option value="Yes">Yes</option>
//                                                 <option value="No">
//                                                     No
//                                                 </option>
//                                             </select>
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="aadharPassportNumber" className="form-label">
//                                                 Aadhar/Passport Number <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="aadharPassportNumber"
//                                                 name="aadharPassportNumber"
//                                                 className="form-control"
//                                                 // value={formData.aadharPassportNumber}
//                                                 // onChange={handleChange}
//                                                 value={"147852369012"}
//                                                 required
//                                                 placeholder='Enter Aadhar/Passport Number'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="aadharPassportFile"
//                                                 className="form-label"
//                                             >
//                                                 Aadhar/Passport Upload <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="file"
//                                                 id="aadharPassportFile"
//                                                 name="aadharPassportFile"
//                                                 className="form-control"
//                                                 accept="image/*,application/pdf"
//                                                 // onChange={handleChange}
//                                                 required

//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="panNumber" className="form-label">
//                                                 PAN Number <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="panNumber"
//                                                 name="panNumber"
//                                                 className="form-control"
//                                                 // value={formData.panNumber}
//                                                 // onChange={handleChange}
//                                                 value={"CJKPJ1425"}
//                                                 required
//                                                 placeholder='Enter PAN Number'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="panFile"
//                                                 className="form-label"
//                                             >
//                                                 PAN Upload <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="file"
//                                                 id="panFile"
//                                                 name="panFile"
//                                                 className="form-control"
//                                                 accept="image/*,application/pdf"
//                                                 // onChange={handleChange}
//                                                 required
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="UanNumber" className="form-label">
//                                                 UAN Number <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="UanNumber"
//                                                 name="UanNumber"
//                                                 className="form-control"
//                                                 // value={formData.panNumber}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"12365478"}
//                                                 placeholder='Enter UAN Number'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="ESICNumber" className="form-label">
//                                                 ESIC Number <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="ESICNumber"
//                                                 name="ESICNumber"
//                                                 className="form-control"
//                                                 // value={formData.ESICNumber}
//                                                 // onChange={handleChange}
//                                                 value={"12365478"}
//                                                 required
//                                                 placeholder='Enter ESIC Number'
//                                             />
//                                         </div>
//                                     </div>
//                                 </div>

//                                 <div className="card-header mb-2">
//                                     <h4 className="card-title text-center custom-heading-font">
//                                         Bank Account Information
//                                     </h4>
//                                 </div>
//                                 <div className="row">
//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="nameOfAccountholder" className="form-label">
//                                                 Name of Accountholder <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="nameOfAccountholder"
//                                                 name="nameOfAccountholder"
//                                                 className="form-control"
//                                                 // value={formData.nameOfAccountholder}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"Umesh Jadhav"}
//                                                 placeholder='Enter Name of Accountholder'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label htmlFor="nameOfBank" className="form-label">
//                                                 Name of Bank <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="nameOfBank"
//                                                 name="nameOfBank"
//                                                 className="form-control"
//                                                 // value={formData.nameOfBank}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"SBI"}
//                                                 placeholder='Enter Bank Name'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="IFSCCode" className="form-label">
//                                                 IFSC Code <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="IFSCCode"
//                                                 name="IFSCCode"
//                                                 className="form-control"
//                                                 // value={formData.IFSCCode}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"SBI00001"}
//                                                 placeholder='Enter IFSC Code'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="accountNumber" className="form-label">
//                                                 Account Number <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="accountNumber"
//                                                 name="accountNumber"
//                                                 className="form-control"
//                                                 // value={formData.accountNumber}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"123456987"}
//                                                 placeholder='Enter Account Number'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="accountType" className="form-label">
//                                                 Account Type <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="text"
//                                                 id="accountType"
//                                                 name="accountType"
//                                                 className="form-control"
//                                                 // value={formData.accountType}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"Saving Account"}
//                                                 placeholder='Enter Account Type'
//                                             />
//                                         </div>
//                                     </div>
//                                 </div>

//                                 <div className="card-header mb-2">
//                                     <h4 className="card-title text-center custom-heading-font">
//                                         Document Upload
//                                     </h4>
//                                 </div>
//                                 <div className='row'>
//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="class12Certificate"
//                                                 className="form-label"
//                                             >
//                                                 Class 12 Certificate <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="file"
//                                                 id="class12Certificate"
//                                                 name="class12Certificate"
//                                                 className="form-control"
//                                                 accept="image/*,application/pdf"
//                                                 // onChange={handleChange}
//                                                 required
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-6">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="degreeCertificate"
//                                                 className="form-label"
//                                             >
//                                                 Degree Certificate  <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="file"
//                                                 id="degreeCertificate"
//                                                 name="degreeCertificate"
//                                                 className="form-control"
//                                                 accept="image/*,application/pdf"
//                                                 // onChange={handleChange}
//                                                 required
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="resume"
//                                                 className="form-label"
//                                             >
//                                                 Resume  <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="file"
//                                                 id="resume"
//                                                 name="resume"
//                                                 className="form-control"
//                                                 accept="image/*,application/pdf"
//                                                 // onChange={handleChange}
//                                                 required
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="experienceLetter"
//                                                 className="form-label"
//                                             >
//                                                 Experience Letter
//                                             </label>
//                                             <input
//                                                 type="file"
//                                                 id="experienceLetter"
//                                                 name="experienceLetter"
//                                                 className="form-control"
//                                                 accept="image/*,application/pdf"
//                                             // onChange={handleChange}
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label
//                                                 htmlFor="relievingLetter"
//                                                 className="form-label"
//                                             >
//                                                 Relieving Letter 
//                                             </label>
//                                             <input
//                                                 type="file"
//                                                 id="relievingLetter"
//                                                 name="relievingLetter"
//                                                 className="form-control"
//                                                 accept="image/*,application/pdf"
//                                             // onChange={handleChange}
//                                             />
//                                         </div>
//                                     </div>
//                                 </div>

//                                 <div className="card-header mb-2">
//                                     <h4 className="card-title text-center custom-heading-font">
//                                         Nomination For Gratuity & Others
//                                     </h4>
//                                 </div>

//                                 {nominees.map((nominee, index) => (
//                                     <div key={nominee.id} className='row'>
//                                         <div className='d-flex justify-content-between' style={{ padding: "0" }}>
//                                             <div className="card-header mt-0" style={{ padding: "0.50rem", borderBottom: "none" }}>
//                                                 <h4 className="card-title text-center">
//                                                     Nominee {index + 1}
//                                                 </h4>
//                                             </div>
//                                             {nominee.id !== 1 && (
//                                                 <div className="card-header p-0">
//                                                     <Link className="btn btn-soft-danger btn-sm"
//                                                         onClick={() => removeNominee(nominee.id)}>
//                                                         <iconify-icon
//                                                             icon="solar:trash-bin-minimalistic-2-broken"
//                                                             className="align-middle fs-18"
//                                                         />
//                                                     </Link>
//                                                 </div>
//                                             )}
//                                         </div>
//                                         <div className="col-md-6">
//                                             <div className="mb-3">
//                                                 <label htmlFor="nomineeName" className="form-label">
//                                                     Nominee Name <span className="text-danger">*</span>
//                                                 </label>
//                                                 <input
//                                                     type="text"
//                                                     id="nomineeName"
//                                                     name="nomineeName"
//                                                     className="form-control"
//                                                     // value={formData.nomineeName}
//                                                     // onChange={handleChange}
//                                                     value={"jack"}
//                                                     required
//                                                     placeholder='Enter Nominee Name'
//                                                 />
//                                             </div>
//                                         </div>

//                                         <div className="col-md-6">
//                                             <div className="mb-3">
//                                                 <label htmlFor="nomineeRelation" className="form-label">
//                                                     Relation <span className="text-danger">*</span>
//                                                 </label>
//                                                 <select
//                                                     id="nomineeRelation"
//                                                     name="nomineeRelation"
//                                                     className="form-control"
//                                                     // value={formData.nomineeRelation}
//                                                     // onChange={handleChange}
//                                                     value={"Sibling"}
//                                                     required
//                                                 >
//                                                     <option value="">Select Relation</option>
//                                                     <option value="Father">Father</option>
//                                                     <option value="Mother">Mother</option>
//                                                     <option value="Sibling">Sibling</option>
//                                                     <option value="Spouse">Spouse</option>
//                                                     <option value="Child">Child</option>
//                                                     <option value="Other">Other</option>
//                                                 </select>
//                                             </div>
//                                         </div>

//                                         <div className="col-md-4">
//                                             <div className="mb-3">
//                                                 <label htmlFor="nomineeAadharNumber" className="form-label">
//                                                     Aadhar Number <span className="text-danger">*</span>
//                                                 </label>
//                                                 <input
//                                                     type="text"
//                                                     id="nomineeAadharNumber"
//                                                     name="nomineeAadharNumber"
//                                                     className="form-control"
//                                                     // value={formData.nomineeAadharNumber}
//                                                     // onChange={handleChange}
//                                                     required
//                                                     value={"123654789"}
//                                                     placeholder='Enter Nominee Aadhar Number'
//                                                 />
//                                             </div>
//                                         </div>

//                                         <div className="col-md-4">
//                                             <div className="mb-3">
//                                                 <label
//                                                     htmlFor="nomineeAadharCardOrPassportFile"
//                                                     className="form-label"
//                                                 >
//                                                     Aadhar Card/ Passport (Upload) <span className="text-danger">*</span>
//                                                 </label>
//                                                 <input
//                                                     type="file"
//                                                     id="nomineeAadharCardOrPassportFile"
//                                                     name="nomineeAadharCardOrPassportFile"
//                                                     className="form-control"
//                                                     accept="image/*,application/pdf"
//                                                     required
//                                                 // onChange={handleChange}
//                                                 />
//                                             </div>
//                                         </div>

//                                         <div className="col-md-4">
//                                             <div className="mb-3">
//                                                 <label htmlFor="nomineeShearPercentage" className="form-label">
//                                                     Share Percentage (%)  <span className="text-danger">*</span>
//                                                 </label>
//                                                 <input
//                                                     type="text"
//                                                     id="nomineeShearPercentage"
//                                                     name="nomineeShearPercentage"
//                                                     className="form-control"
//                                                     // value={nomineeShearPercentage}
//                                                     // onChange={handleChange}
//                                                     required
//                                                     value={"100%"}
//                                                     placeholder='Enter Nominee Shear Percentage '
//                                                 />
//                                             </div>
//                                         </div>
//                                     </div>
//                                 ))}
//                                 <div className="text-end card-header">
//                                     <button
//                                         type="button"
//                                         className="btn btn-primary custom-submit-button"
//                                         onClick={addNominee}
//                                     >
//                                         Add Nominee
//                                     </button>
//                                 </div>

//                                 <div className="card-header mt-1">
//                                     <h4 className="card-title text-center custom-heading-font">
//                                         Previous Employment
//                                     </h4>
//                                 </div>

//                                 {
//                                     experiences.map((exp, index) => (
//                                         <div key={exp.id} className='row'>
//                                             <div className='d-flex justify-content-between' style={{ padding: "0" }}>
//                                                 <div className="card-header mt-0" style={{ padding: "0.50rem", borderBottom: "none" }}>
//                                                     <h4 className="card-title text-center">
//                                                         Experience {index + 1}
//                                                     </h4>
//                                                 </div>
//                                                 {exp.id !== 1 && (
//                                                 <div className="card-header p-0">
//                                                     <Link className="btn btn-soft-danger btn-sm"
//                                                         onClick={() => removeExperience(exp.id)}>
//                                                         <iconify-icon
//                                                             icon="solar:trash-bin-minimalistic-2-broken"
//                                                             className="align-middle fs-18"
//                                                         />
//                                                     </Link>
//                                                 </div>
//                                             )}
//                                             </div>
//                                             <div className="col-md-6">
//                                                 <div className="mb-3">
//                                                     <label htmlFor={`previousSchoolName-${exp.id}`} className="form-label">
//                                                         School Name <span className="text-danger">*</span>
//                                                     </label>
//                                                     <input
//                                                         type="text"
//                                                         id={`previousSchoolName-${exp.id}`}
//                                                         name={`previousSchoolName-${exp.id}`}
//                                                         className="form-control"
//                                                         required
//                                                         value={"XYZ School"}
//                                                         placeholder='Enter Previous School Name'
//                                                     />
//                                                 </div>
//                                             </div>

//                                             <div className="col-md-6">
//                                                 <div className="mb-3">
//                                                     <label htmlFor={`previousSchoolAddress-${exp.id}`} className="form-label">
//                                                         Address <span className="text-danger">*</span>
//                                                     </label>
//                                                     <input
//                                                         type="text"
//                                                         id={`previousSchoolAddress-${exp.id}`}
//                                                         name={`previousSchoolAddress-${exp.id}`}
//                                                         className="form-control"
//                                                         required
//                                                         value={"Nashik"}
//                                                         placeholder='Enter Previous School Address'
//                                                     />
//                                                 </div>
//                                             </div>

//                                             <div className="col-md-6">
//                                                 <div className="mb-3">
//                                                     <label htmlFor={`previousSchoolJoiningDate-${exp.id}`} className="form-label">
//                                                         From <span className="text-danger">*</span>
//                                                     </label>
//                                                     <input
//                                                         type="date"
//                                                         id={`previousSchoolJoiningDate-${exp.id}`}
//                                                         name={`previousSchoolJoiningDate-${exp.id}`}
//                                                         className="form-control"
//                                                         required
//                                                     />
//                                                 </div>
//                                             </div>

//                                             <div className="col-md-6">
//                                                 <div className="mb-3">
//                                                     <label htmlFor={`previousSchoolLastDate-${exp.id}`} className="form-label">
//                                                         To <span className="text-danger">*</span>
//                                                     </label>
//                                                     <input
//                                                         type="date"
//                                                         id={`previousSchoolLastDate-${exp.id}`}
//                                                         name={`previousSchoolLastDate-${exp.id}`}
//                                                         className="form-control"
//                                                         required
//                                                     />
//                                                 </div>
//                                             </div>

//                                             <div className="col-md-6">
//                                                 <div className="mb-3">
//                                                     <label htmlFor={`previousJobDesignation-${exp.id}`} className="form-label">
//                                                         Job Designation <span className="text-danger">*</span>
//                                                     </label>
//                                                     <input
//                                                         type="text"
//                                                         id={`previousJobDesignation-${exp.id}`}
//                                                         name={`previousJobDesignation-${exp.id}`}
//                                                         className="form-control"
//                                                         required
//                                                         value={"Teacher"}
//                                                         placeholder='Enter Previous Job Designation '
//                                                     />
//                                                 </div>
//                                             </div>

//                                             <div className="col-md-6">
//                                                 <div className="mb-3">
//                                                     <label htmlFor={`previousSchoolName-${exp.id}`} className="form-label">
//                                                         No. of Experience <span className="text-danger">*</span>
//                                                     </label>
//                                                     <input
//                                                         type="text"
//                                                         id={`previousSchoolName-${exp.id}`}
//                                                         name={`previousSchoolName-${exp.id}`}
//                                                         className="form-control"
//                                                         required
//                                                         value={"3 Months"}
//                                                         placeholder='Enter'
//                                                     />
//                                                 </div>
//                                             </div>
//                                         </div>
//                                     ))
//                                 }
//                                 < div className="text-end card-header" >
//                                     <button
//                                         type="button"
//                                         className="btn btn-primary custom-submit-button"
//                                         onClick={addExperience}
//                                     >
//                                         Add Employment
//                                     </button>
//                                 </div>

//                                 <div className="card-header mb-2">
//                                     <h4 className="card-title text-center custom-heading-font">
//                                         Others
//                                     </h4>
//                                 </div>
//                                 <div className='row'>
//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="securityDepositAmount" className="form-label">
//                                                 Security Deposit Amount <span className="text-danger">*</span>
//                                             </label>
//                                             <input
//                                                 type="number"
//                                                 id="securityDepositAmount"
//                                                 name="securityDepositAmount"
//                                                 className="form-control"
//                                                 // value={formData.securityDepositAmount}
//                                                 // onChange={handleChange}
//                                                 required
//                                                 value={"500"}
//                                                 placeholder='Enter Security Deposit Amount'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="voluntaryPFContribution" className="form-label">
//                                                 Voluntary PF Contribution (Amount)
//                                             </label>
//                                             <input
//                                                 type="number"
//                                                 id="voluntaryPFContribution"
//                                                 name="voluntaryPFContribution"
//                                                 className="form-control"
//                                                 // value={formData.voluntaryPFContribution}
//                                                 // onChange={handleChange}
//                                                 value={"500"}
//                                                 required
//                                                 placeholder='Enter Voluntary PF Contribution'
//                                             />
//                                         </div>
//                                     </div>

//                                     <div className="col-md-4">
//                                         <div className="mb-3">
//                                             <label htmlFor="taxRegime" className="form-label">
//                                                 Tax Regime <span className="text-danger">*</span>
//                                             </label>
//                                             <select
//                                                 id="taxRegime"
//                                                 name="taxRegime"
//                                                 className="form-control"
//                                                 // value={formData.physicalHandicap}
//                                                 // onChange={handleChange}
//                                                 value={"Old"}
//                                                 required
//                                             >
//                                                 <option value="">Select Tax Regime</option>
//                                                 <option value="old">Old</option>
//                                                 <option value="New">
//                                                     New
//                                                 </option>
//                                             </select>
//                                         </div>
//                                     </div>
//                                 </div>


import React, { useState, useEffect } from 'react';
import { toast } from "react-toastify";
import getAPI from "../../../../../api/getAPI";
import putAPI from "../../../../../api/putAPI";
import { Link } from 'react-router-dom';
import CreatableSelect from "react-select/creatable";
import moment from 'moment';
const EmploerUpdateEmployeeDetails = () => {
    const [showForm, setShowForm] = useState(false);
    const [experiences, setExperiences] = useState([{ id: 1 }]);
    const [nominees, setNominees] = useState([{ id: 1 }]);
    const [schoolId, setSchoolId] = useState(null);
    const [employeeId, setEmployeeId] = useState(null);
    const [isLoading, setIsLoading] = useState(false);
    const [year, setYear] = useState(moment().format('YYYY'));
    const [month, setMonth] = useState(moment().format('MMMM'));
    const [formData, setFormData] = useState({
        schoolId: '',
        employeeId: '',
        password: '',
        employeeName: '',
        emailId: '',
        contactNumber: '',
        dateOfBirth: '',
        gender: '',
        categoryOfEmployees: '',
        grade: '',
        jobDesignation: '',
        joiningDate: '',
        fatherName: '',
        spouseName: '',
        currentAddress: '',
        emergencyContactNumber: '',
        nationality: 'Indian',
        religion: '',
        maritalStatus: '',
        higherQualification: '',
        physicalHandicap: 'No',
        aadharPassportNumber: '',
        aadharPassportFile: null,
        panNumber: '',
        panFile: null,
        uanNumber: '',
        esicNumber: '',
        accountHolderName: '',
        bankName: '',
        ifscCode: '',
        accountNumber: '',
        accountType: '',
        class12Certificate: null,
        degreeCertificate: null,
        resume: null,
        experienceLetter: null,
        relievingLetter: null,
        nominationDetails: [{
            nomineeName: '',
            nomineeRelation: '',
            nomineeAadharNumber: '',
            nomineeAadharCardOrPassportFile: null,
            nomineeShearPercentage: ''
        }],
        experienceDetails: [{
            previousSchoolName: '',
            previousSchoolAddress: '',
            previousSchoolJoiningDate: '',
            previousSchoolLastDate: '',
            previousJobDesignation: '',
            numberOfExperience: ''
        }],
        securityDepositAmount: '',
        voluntaryPFContribution: '',
        taxRegime: 'new',
        status: 'On Payroll',
        lastWorkingDate: '',
        reasonForLeaving: '',
        reasonType: '',
        pfCode: '',
        esiCode: '',
    });

    const currentYear = moment().year();
    const years = Array.from({ length: currentYear - 2024 + 1 }, (_, i) => 2024 + i);
    const months = moment.months();
    const currentMonthIndex = moment().month();
    const availableMonths = year === currentYear.toString() ? months.slice(0, currentMonthIndex + 1) : months;

    const [existingFiles, setExistingFiles] = useState({
        aadharPassportFile: null,
        panFile: null,
        class12Certificate: null,
        degreeCertificate: null,
        resume: null,
        experienceLetter: null,
        relievingLetter: null,
        nominationDetails: []
    });

    const reasonOptions = [
        { label: "Absconding", value: "Absconding", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Better opportunity & Remuneration", value: "Better opportunity & Remuneration", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "End of Contract", value: "End of Contract", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Family reason", value: "Family reason", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Health Issues", value: "Health Issues", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Higher Studies", value: "Higher Studies", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Marriage", value: "Marriage", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Performance below expectation", value: "Performance below expectation", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Relocation", value: "Relocation", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Role clarity", value: "Role clarity", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Starting own Venture", value: "Starting own Venture", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Worklife Balance", value: "Worklife Balance", data: { type2: "Left Services", pfCode: "C", esiCode: "2" } },
        { label: "Retirement", value: "Retirement", data: { type2: "Retirement", pfCode: "R", esiCode: "3" } },
        { label: "Death", value: "Death", data: { type2: "Death", pfCode: "D", esiCode: "5" } },
        { label: "Retrenchment", value: "Retrenchment", data: { type2: "Retrenchment", pfCode: "C", esiCode: "10" } },
        { label: "Permanent Disability", value: "Permanent Disability", data: { type2: "Permanent Disability", pfCode: "P", esiCode: "2" } }
    ];
    
    useEffect(() => {
        const fetchEmployeeDetails = async () => {
            const userDetails = JSON.parse(localStorage.getItem("userDetails"));
            const id = userDetails?.schoolId;
            if (!id) {
                toast.error("School Id not found, please login again");
                return;
            }
            setSchoolId(id);
        };
        fetchEmployeeDetails();
    }, []);

    const handleProceed = async () => {
        if (!employeeId.trim()) {
            toast.warning("Please enter a valid Employee ID.");
            return;
        }

        try {
            setIsLoading(true);
            const monthKey = moment(`${year}-${month}`, 'YYYY-MMMM').format('YYYY-MM');
            const response = await getAPI(`/get-employee-self-details/${schoolId}/${employeeId}/${monthKey}`);
            console.log("Get res details", response);

            if (!response.hasError && response.data?.data) {
                const employeeBasicDetail = response.data.data || {};
                const employeeData = response.data.data.employeeDetails || {};

                const updatedFormData = {
                    ...formData,
                    employeeId: employeeBasicDetail.employeeId || '',
                    schoolId: employeeBasicDetail.schoolId || '',
                    password: employeeBasicDetail.password || '',
                    emailId: employeeBasicDetail.emailId || '',
                    dateOfBirth: employeeBasicDetail.dateOfBirth ? new Date(employeeBasicDetail.dateOfBirth).toISOString().split('T')[0] : '',
                    joiningDate: employeeBasicDetail.joiningDate ? new Date(employeeBasicDetail.joiningDate).toISOString().split('T')[0] : '',
                    employeeName: employeeData.employeeName || '',
                    contactNumber: employeeData.contactNumber || '',
                    gender: employeeData.gender || '',
                    categoryOfEmployees: employeeData.categoryOfEmployees || '',
                    grade: employeeData.grade || '',
                    jobDesignation: employeeData.jobDesignation || '',
                    fatherName: employeeData.fatherName || '',
                    spouseName: employeeData.spouseName || '',
                    currentAddress: employeeData.currentAddress || '',
                    emergencyContactNumber: employeeData.emergencyContactNumber || '',
                    nationality: employeeData.nationality || 'Indian',
                    religion: employeeData.religion || '',
                    maritalStatus: employeeData.maritalStatus || '',
                    higherQualification: employeeData.higherQualification || '',
                    physicalHandicap: employeeData.physicalHandicap || 'No',
                    aadharPassportNumber: employeeData.aadharPassportNumber || '',
                    aadharPassportFile: employeeData.aadharPassportFile || null,
                    panNumber: employeeData.panNumber || '',
                    panFile: employeeData.panFile || null,
                    uanNumber: employeeData.uanNumber || '',
                    esicNumber: employeeData.esicNumber || '',
                    accountHolderName: employeeData.accountHolderName || '',
                    bankName: employeeData.bankName || '',
                    ifscCode: employeeData.ifscCode || '',
                    accountNumber: employeeData.accountNumber || '',
                    accountType: employeeData.accountType || '',
                    class12Certificate: employeeData.class12Certificate || null,
                    degreeCertificate: employeeData.degreeCertificate || null,
                    resume: employeeData.resume || null,
                    experienceLetter: employeeData.experienceLetter || null,
                    relievingLetter: employeeData.relievingLetter || null,
                    securityDepositAmount: employeeData.securityDepositAmount || '',
                    mandatoryPFContribution: employeeData.mandatoryPFContribution || '',
                    voluntaryPFContribution: employeeData.voluntaryPFContribution || '',
                    taxRegime: employeeData.taxRegime || '',
                    status: employeeData.status || '',
                    lastWorkingDate: employeeData.lastWorkingDate ||'',
                    reasonForLeaving: employeeData.reasonForLeaving ||'',
                    reasonType: employeeData.reasonType ||'',
                    pfCode: employeeData.pfCode ||'',
                    esiCode: employeeData.esiCode || '',
                    nominationDetails: employeeData.nominationDetails?.length > 0 ? employeeData.nominationDetails : [{
                        nomineeName: '',
                        nomineeRelation: '',
                        nomineeAadharNumber: '',
                        nomineeAadharCardOrPassportFile: null,
                        nomineeShearPercentage: ''
                    }],
                    experienceDetails: employeeData.experienceDetails?.length > 0 ? employeeData.experienceDetails.map(exp => ({
                        ...exp,
                        previousSchoolJoiningDate: exp.previousSchoolJoiningDate ? new Date(exp.previousSchoolJoiningDate).toISOString().split('T')[0] : '',
                        previousSchoolLastDate: exp.previousSchoolLastDate ? new Date(exp.previousSchoolLastDate).toISOString().split('T')[0] : ''
                    })) : [{
                        previousSchoolName: '',
                        previousSchoolAddress: '',
                        previousSchoolJoiningDate: '',
                        previousSchoolLastDate: '',
                        previousJobDesignation: '',
                        numberOfExperience: ''
                    }],
                };

                setFormData(updatedFormData);
                setNominees(employeeData.nominationDetails?.length > 0 ?
                    employeeData.nominationDetails.map((_, index) => ({ id: index + 1 })) :
                    [{ id: 1 }]);
                setExperiences(employeeData.experienceDetails?.length > 0 ?
                    employeeData.experienceDetails.map((_, index) => ({ id: index + 1 })) :
                    [{ id: 1 }]);
                setShowForm(true);
            } else {
                toast.error(response.message || "No employee data found");
            }
        } catch (error) {
            console.error("Fetch error:", error);
            toast.error("Failed to load employee details");
        } finally {
            setIsLoading(false);
        }


    };


    const handleChange = (e, section, index) => {
        const { name, value } = e.target;

        if (section === 'nominationDetails') {
            setFormData(prev => ({
                ...prev,
                nominationDetails: prev.nominationDetails.map((item, i) =>
                    i === index ? { ...item, [name]: value } : item
                )
            }));
        } else if (section === 'experienceDetails') {
            setFormData(prev => ({
                ...prev,
                experienceDetails: prev.experienceDetails.map((item, i) =>
                    i === index ? { ...item, [name]: value } : item
                )
            }));
        } else {
            setFormData(prev => ({ ...prev, [name]: value }));
        }
    };


    const handleFileChange = (e, section, index) => {
        const { name, files } = e.target;

        if (section === 'nominationDetails') {
            setFormData(prev => ({
                ...prev,
                nominationDetails: prev.nominationDetails.map((item, i) =>
                    i === index ? { ...item, [name]: files[0] } : item
                )
            }));
        } else {
            setFormData(prev => ({
                ...prev,
                [name]: files[0]
            }));
        }
    };

    const handleReasonChange = (selectedOption) => {
        const reason = selectedOption ? selectedOption.value : '';
        const reasonData = selectedOption?.data || { type2: '', pfCode: '', esiCode: '' };

        setFormData(prev => ({
            ...prev,
            reasonForLeaving: reason,
            reasonType: reasonData.type2,
            pfCode: reasonData.pfCode,
            esiCode: reasonData.esiCode
        }));
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        setIsLoading(true);

        try {
            const submissionData = new FormData();

            // Append basic employee info
            submissionData.append('emailId', formData.emailId);
            submissionData.append('dateOfBirth', formData.dateOfBirth);
            submissionData.append('joiningDate', formData.joiningDate);

            // Append monthly employee details
            submissionData.append('employeeName', formData.employeeName);
            submissionData.append('contactNumber', formData.contactNumber);
            submissionData.append('gender', formData.gender);
            submissionData.append('categoryOfEmployees', formData.categoryOfEmployees);
            submissionData.append('grade', formData.grade);
            submissionData.append('jobDesignation', formData.jobDesignation);
            submissionData.append('fatherName', formData.fatherName);
            submissionData.append('spouseName', formData.spouseName);
            submissionData.append('currentAddress', formData.currentAddress);
            submissionData.append('emergencyContactNumber', formData.emergencyContactNumber);
            submissionData.append('nationality', formData.nationality);
            submissionData.append('religion', formData.religion);
            submissionData.append('maritalStatus', formData.maritalStatus);
            submissionData.append('higherQualification', formData.higherQualification);
            submissionData.append('physicalHandicap', formData.physicalHandicap);
            submissionData.append('aadharPassportNumber', formData.aadharPassportNumber);
            submissionData.append('panNumber', formData.panNumber);
            submissionData.append('uanNumber', formData.uanNumber);
            submissionData.append('esicNumber', formData.esicNumber);
            submissionData.append('accountHolderName', formData.accountHolderName);
            submissionData.append('bankName', formData.bankName);
            submissionData.append('ifscCode', formData.ifscCode);
            submissionData.append('accountNumber', formData.accountNumber);
            submissionData.append('accountType', formData.accountType);
            submissionData.append('securityDepositAmount', formData.securityDepositAmount);
            submissionData.append('mandatoryPFContribution', formData.mandatoryPFContribution);
            submissionData.append('voluntaryPFContribution', formData.voluntaryPFContribution);
            submissionData.append('taxRegime', formData.taxRegime);
            submissionData.append('status', formData.status);
            submissionData.append('lastWorkingDate', formData.lastWorkingDate);
            submissionData.append('reasonForLeaving', formData.reasonForLeaving);
            submissionData.append('reasonType', formData.reasonType);
            submissionData.append('pfCode', formData.pfCode);
            submissionData.append('esiCode', formData.esiCode);
         
            // Append files if they exist
            if (formData.aadharPassportFile instanceof File) {
                submissionData.append('aadharPassportFile', formData.aadharPassportFile);
            }
            if (formData.panFile instanceof File) {
                submissionData.append('panFile', formData.panFile);
            }
            if (formData.class12Certificate instanceof File) {
                submissionData.append('class12Certificate', formData.class12Certificate);
            }
            if (formData.degreeCertificate instanceof File) {
                submissionData.append('degreeCertificate', formData.degreeCertificate);
            }
            if (formData.resume instanceof File) {
                submissionData.append('resume', formData.resume);
            }
            if (formData.experienceLetter instanceof File) {
                submissionData.append('experienceLetter', formData.experienceLetter);
            }
            if (formData.relievingLetter instanceof File) {
                submissionData.append('relievingLetter', formData.relievingLetter);
            }

            // Append nomination details
            submissionData.append('nominationDetails', JSON.stringify(formData.nominationDetails));

            // Append nominee files
            formData.nominationDetails.forEach((nominee, index) => {
                if (nominee.nomineeAadharCardOrPassportFile instanceof File) {
                    submissionData.append(
                        'nomineeAadharCardOrPassportFile',
                        nominee.nomineeAadharCardOrPassportFile
                    );
                }
            });


            submissionData.append('experienceDetails', JSON.stringify(formData.experienceDetails));


            const response = await putAPI(
                `/update-employee-details/${schoolId}/${employeeId}?year=${year}&month=${month}`,
                submissionData,
                { "Content-Type": "multipart/form-data" },
                true
            );

            if (!response.hasError) {
                toast.success("Employee details updated successfully");

                if (response.data?.data) {
                    const updatedData = response.data.data;

                }
            } else {
                toast.error(response.message || "Failed to update employee details");
            }
        } catch (error) {
            console.error("Submission error:", error);
            toast.error("Failed to update employee details");


            if (error.response) {
                if (error.response.status === 413) {
                    toast.error("File size too large (max 2MB)");
                } else if (error.response.data?.errors) {

                    toast.error(error.response.data?.errors)
                }
            }
        } finally {
            setIsLoading(false);
        }
    };

    return (
        <div className="container">
            <div className="row">
                <div className="col-xl-12">
                    <div className="card m-2">
                        <div className="card-body custom-heading-padding">
                            <div className="container">
                                <div className="card-header mb-2">
                                    <h4 className="payroll-title text-center">
                                        Employee Details
                                    </h4>
                                </div>
                            </div>
                            <form onSubmit="">
                                <div className="row mb-3">
                                    <div className="custom-bg d-flex flex-wrap align-items-center justify-content-between gap-3 p-3">
                                        <div className="d-flex flex-wrap align-items-center gap-3">
                                            <label htmlFor="yearSelect" className="mb-0 fw-bold">Year:</label>
                                            <select id="yearSelect" className="custom-select" value={year} onChange={(e) => setYear(e.target.value)}>
                                                {years.map(y => (
                                                    <option key={y} value={y}>{y}</option>
                                                ))}
                                            </select>
                                            <label htmlFor="monthSelect" className="mb-0 fw-bold">Month:</label>
                                            <select id="monthSelect" className="custom-select" value={month} onChange={(e) => setMonth(e.target.value)}>
                                                {availableMonths.map(m => (
                                                    <option key={m} value={m}>{m}</option>
                                                ))}
                                            </select>
                                        </div>
                                    </div>
                                    <div className="col-md-6">
                                        <div className="mb-6">
                                            <label htmlFor="employeeID" className="form-label">
                                                Employee ID <span className="text-danger">*</span>
                                            </label>
                                            <input
                                                type="text"
                                                id="employeeID"
                                                name="employeeID"
                                                className="form-control"
                                                value={employeeId}
                                                onChange={(e) => setEmployeeId(e.target.value)}
                                                required
                                                placeholder="Enter Employee ID"
                                                disabled={showForm}
                                                readOnly={showForm}
                                            />
                                        </div>
                                    </div>
                                    <div className={`col-md-2 ${showForm ? 'd-none' : ''}`} style={{ alignContent: "end", textAlign: "center" }}>
                                        <button
                                            type="button"
                                            className="btn btn-primary custom-submit-button"
                                            onClick={handleProceed}
                                        >
                                            Proceed
                                        </button>
                                    </div>
                                </div>

                                {showForm && (
                                    <>
                                        <div className="row mb-3">
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="employeeId" className="form-label">
                                                        Employee ID <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="employeeId"
                                                        name="employeeId"
                                                        className="form-control"
                                                        value={formData.employeeId}
                                                        readOnly
                                                        placeholder="Employee ID"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="employeeName" className="form-label">
                                                        Name of Employee <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="employeeName"
                                                        name="employeeName"
                                                        className="form-control"
                                                        value={formData.employeeName}
                                                        onChange={handleChange}
                                                        required
                                                        placeholder="Enter Employee Name"
                                                    />
                                                </div>
                                            </div>
                                        </div>

                                        <div className="row">
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="joiningDate" className="form-label">
                                                        Joining Date <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="date"
                                                        id="joiningDate"
                                                        name="joiningDate"
                                                        className="form-control"
                                                        value={formData.joiningDate}
                                                        onChange={handleChange}
                                                        required
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="categoryOfEmployees" className="form-label">
                                                        Category of Employees <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="categoryOfEmployees"
                                                        name="categoryOfEmployees"
                                                        className="form-control"
                                                        value={formData.categoryOfEmployees}
                                                        onChange={handleChange}
                                                        required
                                                        placeholder="Enter Category"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="grade" className="form-label">
                                                        Grade <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="grade"
                                                        name="grade"
                                                        className="form-control"
                                                        value={formData.grade}
                                                        onChange={handleChange}
                                                        required
                                                        placeholder="Enter Grade"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="jobDesignation" className="form-label">
                                                        Job Designation <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="jobDesignation"
                                                        name="jobDesignation"
                                                        className="form-control"
                                                        value={formData.jobDesignation}
                                                        onChange={handleChange}
                                                        required
                                                        placeholder="Enter Job Designation"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="dateOfBirth" className="form-label">
                                                        Date of Birth <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="date"
                                                        id="dateOfBirth"
                                                        name="dateOfBirth"
                                                        className="form-control"
                                                        value={formData.dateOfBirth}
                                                        required
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="fatherName" className="form-label">
                                                        Father Name <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="fatherName"
                                                        name="fatherName"
                                                        className="form-control"
                                                        value={formData.fatherName}
                                                        required
                                                        placeholder="Enter Father Name"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="spouseName" className="form-label">
                                                        Spouse Name
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="spouseName"
                                                        name="spouseName"
                                                        className="form-control"
                                                        value={formData.spouseName}
                                                        placeholder="Enter Spouse Name"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-12">
                                                <div className="mb-3">
                                                    <label htmlFor="currentAddress" className="form-label">
                                                        Current Address <span className="text-danger">*</span>
                                                    </label>
                                                    <textarea
                                                        className="form-control"
                                                        id="currentAddress"
                                                        name="currentAddress"
                                                        rows={3}
                                                        value={formData.currentAddress}
                                                        required
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="contactNumber" className="form-label">
                                                        Contact Number <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="tel"
                                                        id="contactNumber"
                                                        name="contactNumber"
                                                        className="form-control"
                                                        value={formData.contactNumber}
                                                        required
                                                        placeholder="Enter 10-digit number"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="emergencyContactNumber" className="form-label">
                                                        Emergency Contact Number <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="tel"
                                                        id="emergencyContactNumber"
                                                        name="emergencyContactNumber"
                                                        className="form-control"
                                                        value={formData.emergencyContactNumber}
                                                        required
                                                        placeholder="Enter 10-digit number"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="emailId" className="form-label">
                                                        Email ID <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="email"
                                                        id="emailId"
                                                        name="emailId"
                                                        className="form-control"
                                                        value={formData.emailId}
                                                        required
                                                        placeholder="example@gmail.com"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="nationality" className="form-label">
                                                        Nationality <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="nationality"
                                                        name="nationality"
                                                        className="form-control"
                                                        value={formData.nationality}
                                                        required
                                                    >
                                                        <option value="">Select Nationality</option>
                                                        <option value="Indian">Indian</option>
                                                        <option value="Nepalese">Nepalese</option>
                                                        <option value="Bhutanese">Bhutanese</option>
                                                        <option value="Other">Other</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="religion" className="form-label">
                                                        Religion <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="religion"
                                                        name="religion"
                                                        className="form-control"
                                                        value={formData.religion}
                                                        required
                                                        placeholder="Enter Religion"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="gender" className="form-label">
                                                        Gender <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="gender"
                                                        name="gender"
                                                        className="form-control"
                                                        value={formData.gender}
                                                        required
                                                    >
                                                        <option value="">Select Gender</option>
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                        <option value="Transgender">Transgender</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="maritalStatus" className="form-label">
                                                        Marital Status <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="maritalStatus"
                                                        name="maritalStatus"
                                                        className="form-control"
                                                        value={formData.maritalStatus}
                                                        required
                                                    >
                                                        <option value="">Select Status</option>
                                                        <option value="Married">Married</option>
                                                        <option value="Un-Married">Un-Married</option>
                                                        <option value="Widower">Widower</option>
                                                        <option value="Divorcee">Divorcee</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="higherQualification" className="form-label">
                                                        Higher Qualification <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="higherQualification"
                                                        name="higherQualification"
                                                        className="form-control"
                                                        value={formData.higherQualification}
                                                        required
                                                    >
                                                        <option value="">Select Qualification</option>
                                                        <option value="Below Class 12">Below Class 12</option>
                                                        <option value="Upto Class 12">Upto Class 12</option>
                                                        <option value="Graduate">Graduate</option>
                                                        <option value="Post Graduate">Post Graduate</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="physicalHandicap" className="form-label">
                                                        Physical Handicap <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="physicalHandicap"
                                                        name="physicalHandicap"
                                                        className="form-control"
                                                        value={formData.physicalHandicap}
                                                        required
                                                    >
                                                        <option value="">Select Status</option>
                                                        <option value="Yes">Yes</option>
                                                        <option value="No">No</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="aadharPassportNumber" className="form-label">
                                                        Aadhar Number <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="aadharPassportNumber"
                                                        name="aadharPassportNumber"
                                                        className="form-control"
                                                        value={formData.aadharPassportNumber}
                                                        required
                                                        placeholder="Enter 12-digit Aadhar Number"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="aadharPassportFile" className="form-label">
                                                        Aadhar Upload <span className="text-danger">*</span>
                                                    </label>
                                                    {formData.aadharPassportFile && typeof formData.aadharPassportFile === 'string' && (
                                                <small className='ms-2'>Current: {formData.aadharPassportFile.split('/').pop()}</small>
                                            )}
                                                    <input
                                                type="file"
                                                id="aadharPassportFile"
                                                name="aadharPassportFile"
                                                className="form-control"
                                                accept=".jpg,.jpeg,.png,.pdf"
                                                
                                            />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="panNumber" className="form-label">
                                                        PAN Number <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="panNumber"
                                                        name="panNumber"
                                                        className="form-control"
                                                        value={formData.panNumber}
                                                        
                                                        required
                                                        placeholder="Enter PAN Number"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                        <div className="mb-3">
                                            <label htmlFor="panFile" className="form-label">
                                                PAN Upload
                                            </label>
                                            {formData.panFile && typeof formData.panFile === 'string' && (
                                                <small className='ms-2'>Current:{formData.panFile.split('/').pop()}</small>
                                            )}
                                            <input
                                                type="file"
                                                id="panFile"
                                                name="panFile"
                                                className="form-control"
                                                accept=".jpg,.jpeg,.png,.pdf"
                                            />             
                                        </div>
                                    </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="uanNumber" className="form-label">
                                                        UAN Number <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="uanNumber"
                                                        name="uanNumber"
                                                        className="form-control"
                                                        value={formData.uanNumber}
                                                        
                                                        required
                                                        placeholder="Enter UAN Number"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="esicNumber" className="form-label">
                                                        ESIC Number <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="esicNumber"
                                                        name="esicNumber"
                                                        className="form-control"
                                                        value={formData.esicNumber}
                                                       
                                                        required
                                                        placeholder="Enter ESIC Number"
                                                    />
                                                </div>
                                            </div>
                                        </div>

                                        <div className="card-header mb-2">
                                            <h4 className="card-title text-center custom-heading-font">
                                                Bank Account Information
                                            </h4>
                                        </div>
                                        <div className="row">
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="accountHolderName" className="form-label">
                                                        Account Holder Name <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="accountHolderName"
                                                        name="accountHolderName"
                                                        className="form-control"
                                                        value={formData.accountHolderName}
                                                        onChange={handleChange}
                                                        required
                                                        placeholder="Enter Account Holder Name"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="bankName" className="form-label">
                                                        Bank Name <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="bankName"
                                                        name="bankName"
                                                        className="form-control"
                                                        value={formData.bankName}
                                                       
                                                        required
                                                        placeholder="Enter Bank Name"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="ifscCode" className="form-label">
                                                        IFSC Code <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="ifscCode"
                                                        name="ifscCode"
                                                        className="form-control"
                                                        value={formData.ifscCode}
                                                        
                                                        required
                                                        placeholder="Enter IFSC Code"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="accountNumber" className="form-label">
                                                        Account Number <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        id="accountNumber"
                                                        name="accountNumber"
                                                        className="form-control"
                                                        value={formData.accountNumber}
                                                        
                                                        required
                                                        placeholder="Enter Account Number"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="accountType" className="form-label">
                                                        Account Type <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="accountType"
                                                        name="accountType"
                                                        className="form-control"
                                                        value={formData.accountType}
                                                        
                                                        required
                                                    >
                                                        <option value="">Select Account Type</option>
                                                        <option value="Savings">Savings</option>
                                                        <option value="Current">Current</option>
                                                        <option value="Salary">Salary</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div className="card-header mb-2">
                                            <h4 className="card-title text-center custom-heading-font">
                                                Document Upload
                                            </h4>
                                        </div>

                                        <div className="row">
                                            {/* Repeat similar changes for other file inputs */}
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="class12Certificate" className="form-label">
                                                        Class 12 Certificate <span className="text-danger">*</span>
                                                    </label>
                                                    {existingFiles.class12Certificate && (
                                                        <div className="mb-2">
                                                            <small>Existing File: {existingFiles.class12Certificate}</small>
                                                        </div>
                                                    )}
                                                    <input
                                                        type="file"
                                                        id="class12Certificate"
                                                        name="class12Certificate"
                                                        className="form-control"
                                                        accept=".jpg,.jpeg,.png,.pdf"
                                                        onChange={(e) => handleFileChange(e)}
                                                        required={!existingFiles.class12Certificate}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-6">
                                                <div className="mb-3">
                                                    <label htmlFor="degreeCertificate" className="form-label">
                                                        Degree Certificate <span className="text-danger">*</span>
                                                    </label>
                                                    {existingFiles.degreeCertificate && (
                                                        <div className="mb-2">
                                                            <small>Existing File: {existingFiles.degreeCertificate}</small>
                                                        </div>
                                                    )}
                                                    <input
                                                        type="file"
                                                        id="degreeCertificate"
                                                        name="degreeCertificate"
                                                        className="form-control"
                                                        accept=".jpg,.jpeg,.png,.pdf"
                                                        onChange={(e) => handleFileChange(e)}
                                                        required={!existingFiles.degreeCertificate}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="resume" className="form-label">
                                                        Resume <span className="text-danger">*</span>
                                                    </label>
                                                    {existingFiles.resume && (
                                                        <div className="mb-2">
                                                            <small>Existing File: {existingFiles.resume}</small>
                                                        </div>
                                                    )}
                                                    <input
                                                        type="file"
                                                        id="resume"
                                                        name="resume"
                                                        className="form-control"
                                                        accept=".jpg,.jpeg,.png,.pdf"
                                                        onChange={(e) => handleFileChange(e)}
                                                        required={!existingFiles.resume}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="experienceLetter" className="form-label">
                                                        Experience Letter
                                                    </label>
                                                    {existingFiles.experienceLetter && (
                                                        <div className="mb-2">
                                                            <small>Existing File: {existingFiles.experienceLetter}</small>
                                                        </div>
                                                    )}
                                                    <input
                                                        type="file"
                                                        id="experienceLetter"
                                                        name="experienceLetter"
                                                        className="form-control"
                                                        accept=".jpg,.jpeg,.png,.pdf"
                                                        onChange={(e) => handleFileChange(e)}
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="relievingLetter" className="form-label">
                                                        Relieving Letter
                                                    </label>
                                                    {existingFiles.relievingLetter && (
                                                        <div className="mb-2">
                                                            <small>Existing File: {existingFiles.relievingLetter}</small>
                                                        </div>
                                                    )}
                                                    <input
                                                        type="file"
                                                        id="relievingLetter"
                                                        name="relievingLetter"
                                                        className="form-control"
                                                        accept=".jpg,.jpeg,.png,.pdf"
                                                        onChange={(e) => handleFileChange(e)}
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        <div className="card-header mb-2">
                                            <h4 className="card-title text-center custom-heading-font">
                                                Nomination For Gratuity & Others
                                            </h4>
                                        </div>

                                        {nominees.map((nominee, index) => (
                                            <div key={nominee.id} className='row'>
                                                <div className='d-flex justify-content-between' style={{ padding: "0" }}>
                                                    <div className="card-header mt-0" style={{ padding: "0.50rem", borderBottom: "none" }}>
                                                        <h4 className="card-title text-center">
                                                            Nominee {index + 1}
                                                        </h4>
                                                    </div>

                                                </div>
                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`nomineeName-${nominee.id}`} className="form-label">
                                                            Nominee Name <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="text"
                                                            id={`nomineeName-${nominee.id}`}
                                                            name="nomineeName"
                                                            className="form-control"
                                                            value={formData.nominationDetails[index]?.nomineeName || ''}
                                                            onChange={(e) => handleChange(e, 'nominationDetails', index)}
                                                            required
                                                            placeholder='Enter Nominee Name'
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`nomineeRelation-${nominee.id}`} className="form-label">
                                                            Relation <span className="text-danger">*</span>
                                                        </label>
                                                        <select
                                                            id={`nomineeRelation-${nominee.id}`}
                                                            name="nomineeRelation"
                                                            className="form-control"
                                                            value={formData.nominationDetails[index]?.nomineeRelation || ''}
                                                            onChange={(e) => handleChange(e, 'nominationDetails', index)}
                                                            required
                                                        >
                                                            <option value="">Select Relation</option>
                                                            <option value="Spouse">Spouse</option>
                                                            <option value="Child">Child</option>
                                                            <option value="Father">Father</option>
                                                            <option value="Mother">Mother</option>
                                                            <option value="Sibling">Sibling</option>
                                                            <option value="Other">Other</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div className="col-md-4">
                                                    <div className="mb-3">
                                                        <label htmlFor={`nomineeAadharNumber-${nominee.id}`} className="form-label">
                                                            Aadhar Number <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="text"
                                                            id={`nomineeAadharNumber-${nominee.id}`}
                                                            name="nomineeAadharNumber"
                                                            className="form-control"
                                                            value={formData.nominationDetails[index]?.nomineeAadharNumber || ''}
                                                            onChange={(e) => handleChange(e, 'nominationDetails', index)}
                                                            required
                                                            placeholder='Enter Nominee Aadhar Number'
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-4">
                                                    <div className="mb-3">
                                                        <label
                                                            htmlFor={`nomineeAadharCardOrPassportFile-${nominee.id}`}
                                                            className="form-label"
                                                        >
                                                            Aadhar Card/Passport Upload <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="file"
                                                            id={`nomineeAadharCardOrPassportFile-${nominee.id}`}
                                                            name="nomineeAadharCardOrPassportFile"
                                                            className="form-control"
                                                            accept=".jpg,.jpeg,.png,.pdf"
                                                            onChange={(e) => handleFileChange(e, 'nominationDetails', index)}
                                                            required
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-4">
                                                    <div className="mb-3">
                                                        <label htmlFor={`nomineeShearPercentage-${nominee.id}`} className="form-label">
                                                            Share Percentage (%) <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="number"
                                                            id={`nomineeShearPercentage-${nominee.id}`}
                                                            name="nomineeShearPercentage"
                                                            className="form-control"
                                                            value={formData.nominationDetails[index]?.nomineeShearPercentage || ''}
                                                            onChange={(e) => handleChange(e, 'nominationDetails', index)}
                                                            required
                                                            placeholder='Enter Nominee Share Percentage'
                                                            min="0"
                                                            max="100"
                                                        />
                                                    </div>
                                                </div>
                                            </div>
                                        ))}


                                        <div className="card-header mt-1">
                                            <h4 className="card-title text-center custom-heading-font">
                                                Previous Employment
                                            </h4>
                                        </div>

                                        {experiences.map((exp, index) => (
                                            <div key={exp.id} className='row'>
                                                <div className='d-flex justify-content-between' style={{ padding: "0" }}>
                                                    <div className="card-header mt-0" style={{ padding: "0.50rem", borderBottom: "none" }}>
                                                        <h4 className="card-title text-center">
                                                            Experience {index + 1}
                                                        </h4>
                                                    </div>

                                                </div>
                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`previousSchoolName-${exp.id}`} className="form-label">
                                                            Name of School/Others <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="text"
                                                            id={`previousSchoolName-${exp.id}`}
                                                            name="previousSchoolName"
                                                            className="form-control"
                                                            value={formData.experienceDetails[index]?.previousSchoolName || ''}
                                                            onChange={(e) => handleChange(e, 'experienceDetails', index)}
                                                            required
                                                            placeholder='Enter Previous School Name'
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`previousSchoolAddress-${exp.id}`} className="form-label">
                                                            Address <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="text"
                                                            id={`previousSchoolAddress-${exp.id}`}
                                                            name="previousSchoolAddress"
                                                            className="form-control"
                                                            value={formData.experienceDetails[index]?.previousSchoolAddress || ''}
                                                            onChange={(e) => handleChange(e, 'experienceDetails', index)}
                                                            required
                                                            placeholder='Enter Previous School Address'
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`previousSchoolJoiningDate-${exp.id}`} className="form-label">
                                                            From <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="date"
                                                            id={`previousSchoolJoiningDate-${exp.id}`}
                                                            name="previousSchoolJoiningDate"
                                                            className="form-control"
                                                            value={formData.experienceDetails[index]?.previousSchoolJoiningDate || ''}
                                                            onChange={(e) => handleChange(e, 'experienceDetails', index)}
                                                            required
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`previousSchoolLastDate-${exp.id}`} className="form-label">
                                                            To <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="date"
                                                            id={`previousSchoolLastDate-${exp.id}`}
                                                            name="previousSchoolLastDate"
                                                            className="form-control"
                                                            value={formData.experienceDetails[index]?.previousSchoolLastDate || ''}
                                                            onChange={(e) => handleChange(e, 'experienceDetails', index)}
                                                            required
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`previousJobDesignation-${exp.id}`} className="form-label">
                                                            Job Designation <span Grammarly="true" className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="text"
                                                            id={`previousJobDesignation-${exp.id}`}
                                                            name="previousJobDesignation"
                                                            className="form-control"
                                                            value={formData.experienceDetails[index]?.previousJobDesignation || ''}
                                                            onChange={(e) => handleChange(e, 'experienceDetails', index)}
                                                            required
                                                            placeholder='Enter Previous Job Designation'
                                                        />
                                                    </div>
                                                </div>

                                                <div className="col-md-6">
                                                    <div className="mb-3">
                                                        <label htmlFor={`numberOfExperience-${exp.id}`} className="form-label">
                                                            Year. of Experience <span className="text-danger">*</span>
                                                        </label>
                                                        <input
                                                            type="text"
                                                            id={`numberOfExperience-${exp.id}`}
                                                            name="numberOfExperience"
                                                            className="form-control"
                                                            value={formData.experienceDetails[index]?.numberOfExperience || ''}
                                                            onChange={(e) => handleChange(e, 'experienceDetails', index)}
                                                            required
                                                            placeholder='Enter Number of Experience'
                                                        />
                                                    </div>
                                                </div>
                                            </div>
                                        ))}


                                        <div className="card-header mb-2">
                                            <h4 className="card-title text-center custom-heading-font">
                                                Others
                                            </h4>
                                        </div>
                                        <div className="row">
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="securityDepositAmount" className="form-label">
                                                        Security Deposit Amount <span className="text-danger">*</span>
                                                    </label>
                                                    <input
                                                        type="number"
                                                        id="securityDepositAmount"
                                                        name="securityDepositAmount"
                                                        className="form-control"
                                                        value={formData.securityDepositAmount}
                                                        onChange={handleChange}
                                                        required
                                                        placeholder="Enter Amount"
                                                        min="0"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="voluntaryPFContribution" className="form-label">
                                                        Voluntary PF Contribution
                                                    </label>
                                                    <input
                                                        type="number"
                                                        id="voluntaryPFContribution"
                                                        name="voluntaryPFContribution"
                                                        className="form-control"
                                                        value={formData.voluntaryPFContribution}
                                                        onChange={handleChange}
                                                        placeholder="Enter Amount"
                                                        min="0"
                                                    />
                                                </div>
                                            </div>
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label htmlFor="taxRegime" className="form-label">
                                                        Tax Regime <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="taxRegime"
                                                        name="taxRegime"
                                                        className="form-control"
                                                        value={formData.taxRegime}
                                                        onChange={handleChange}
                                                        required
                                                    >
                                                        <option value="">Select Tax Regime</option>
                                                        <option value="old">Old</option>
                                                        <option value="new">New</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="card-header mb-2">
                                            <h4 className="card-title text-center custom-heading-font">
                                                Status
                                            </h4>
                                        </div>
                                        <div className="row">
                                            <div className="col-md-4">
                                                <div className="mb-3">
                                                    <label
                                                        htmlFor="status"
                                                        className="form-label"
                                                    >
                                                        Status <span className="text-danger">*</span>
                                                    </label>
                                                    <select
                                                        id="status"
                                                        name="status"
                                                        className="form-control"
                                                        value={formData.status || ''}
                                                        onChange={handleChange}
                                                        required
                                                    >
                                                        <option value="">Select Status</option>
                                                        <option value="Left">Left</option>
                                                        <option value="On Payroll">On Payroll</option>
                                                    </select>
                                                </div>
                                            </div>

                                            {formData.status === "Left" && (
                                                <>
                                                    <div className="col-md-4">
                                                        <div className="mb-3">
                                                            <label htmlFor="lastWorkingDate" className="form-label">
                                                                Last Working Date <span className="text-danger">*</span>
                                                            </label>
                                                            <input
                                                                type="date"
                                                                id="lastWorkingDate"
                                                                name="lastWorkingDate"
                                                                className="form-control"
                                                                value={formData.lastWorkingDate}
                                                                onChange={handleChange}
                                                                required
                                                            />
                                                        </div>
                                                    </div>
                                                    <div className="col-md-4">
                                                        <div className="mb-3">
                                                            <label htmlFor="reasonForLeaving" className="form-label">
                                                                Reason for Leaving <span className="text-danger">*</span>
                                                            </label>
                                                            <CreatableSelect
                                                                id="reasonForLeaving"
                                                                isClearable
                                                                placeholder="Select or type reason"
                                                                options={reasonOptions}
                                                                onChange={handleReasonChange}
                                                                value={formData.reasonForLeaving ? { label: formData.reasonForLeaving, value: formData.reasonForLeaving } : null}
                                                            />
                                                        </div>
                                                    </div>
                                                    <div className="col-md-4">
                                                        <div className="mb-3">
                                                            <label htmlFor="reasonType" className="form-label">
                                                                Reason Type <span className="text-danger">*</span>
                                                            </label>
                                                            <input
                                                                type="text"
                                                                id="reasonType"
                                                                name="reasonType"
                                                                className="form-control"
                                                                value={formData.reasonType}
                                                                readOnly
                                                                required
                                                            />
                                                        </div>
                                                    </div>
                                                    <div className="col-md-4">
                                                        <div className="mb-3">
                                                            <label htmlFor="pfCode" className="form-label">
                                                                PF Code <span className="text-danger">*</span>
                                                            </label>
                                                            <input
                                                                type="text"
                                                                id="pfCode"
                                                                name="pfCode"
                                                                className="form-control"
                                                                value={formData.pfCode}
                                                                readOnly
                                                                required
                                                            />
                                                        </div>
                                                    </div>
                                                    <div className="col-md-4">
                                                        <div className="mb-3">
                                                            <label htmlFor="esiCode" className="form-label">
                                                                ESI Code <span className="text-danger">*</span>
                                                            </label>
                                                            <input
                                                                type="text"
                                                                id="esiCode"
                                                                name="esiCode"
                                                                className="form-control"
                                                                value={formData.esiCode}
                                                                readOnly
                                                                required
                                                            />
                                                        </div>
                                                    </div>
                                                </>
                                            )}
                                        </div>
                                        <div className="text-end">
                                            <button
                                                type="submit"
                                                className="btn btn-primary custom-submit-button"
                                                disabled={isLoading}
                                                onClick={handleSubmit}
                                            >
                                                {isLoading ? (
                                                    <>
                                                        <span className="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                                                        Updating...
                                                    </>
                                                ) : 'Update'}
                                            </button>
                                        </div>
                                    </>
                                )}
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    )
}

export default EmploerUpdateEmployeeDetails